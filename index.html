<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的第一个页面 s</title>
    <link rel="stylesheet" href="css\mystyle.css">
    <script src="js/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id="home">
        <h1>
           我的第一个页面 
        </h1>
        <img src="img\1.png" alt="">
        <hr/>
        <p v-if="movies.length==0">尚未获取</p>
        <div class="imglist">
            <img v-for="img in movies" v-bind:src="apiurl+img.pic" alt="">
         </div>
        <button v-on:click="getData()">获取视频</button>
    </div>
    <script>
        new Vue({
            el:'#home',
            data:{
                apiurl:'https://api.dweb.club/',
                movies:[]
            },
            methods:{
                getData(){
                   var self = this 
                   axios({
                       method:'get',
                       type:'json',
                       url:'https://api.dweb.club/dweb-api/get-index-data'
                   }).then(function (res){
                     console.log(res.data.newsdata)
                     self.movies = res.data.newsdata
                   })
                }
            },
        })
    </script>
</body>
</html>
